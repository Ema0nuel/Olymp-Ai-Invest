{"version":3,"file":"login-DkSkwmEY.js","sources":["../../src/script/views/admin/login.js"],"sourcesContent":["import LOGO from '../../../images/logo.jpg';\r\nimport reset from '../../utils/reset';\r\nimport toastify from '../../components/toastify';\r\nimport { adminLoginHandler, checkAdminAuth } from './functions/adminLoginHandler';\r\nimport { loadPage } from '../../routes/router';\r\n\r\nconst adminLogin = async () => {\r\n\r\n    reset('Admin Login | Olymp AI Invest');\r\n\r\n    let loginAttempts = 0;\r\n    let lastAttemptTime = 0;\r\n\r\n    function pageEvents() {\r\n        const form = document.getElementById('adminLoginForm');\r\n        const emailInput = document.getElementById('adminEmail');\r\n        const passwordInput = document.getElementById('adminPassword');\r\n        const submitButton = form?.querySelector('button[type=\"submit\"]');\r\n\r\n        // Advanced email validation\r\n        if (emailInput) {\r\n            emailInput.addEventListener('input', (e) => {\r\n                const email = e.target.value.trim();\r\n                const isValid = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\r\n                emailInput.classList.toggle('border-red-500', !isValid);\r\n                submitButton.disabled = !isValid;\r\n            });\r\n        }\r\n\r\n        // Password strength indicator\r\n        if (passwordInput) {\r\n            const strengthIndicator = document.createElement('div');\r\n            strengthIndicator.className = 'password-strength mt-1 text-xs';\r\n            passwordInput.parentElement.appendChild(strengthIndicator);\r\n\r\n            passwordInput.addEventListener('input', (e) => {\r\n                const password = e.target.value;\r\n                let strength = 0;\r\n\r\n                if (password.length >= 8) strength++;\r\n                if (/[A-Z]/.test(password)) strength++;\r\n                if (/[0-9]/.test(password)) strength++;\r\n                if (/[^A-Za-z0-9]/.test(password)) strength++;\r\n\r\n                const colors = ['red', 'orange', 'yellow', 'green'];\r\n                strengthIndicator.style.color = `var(--${colors[strength - 1]})`;\r\n                strengthIndicator.textContent = strength > 0 ?\r\n                    `Password Strength: ${['Weak', 'Fair', 'Good', 'Strong'][strength - 1]}` : '';\r\n            });\r\n        }\r\n\r\n        // Form submission with rate limiting\r\n        if (form) {\r\n            form.addEventListener('submit', async (e) => {\r\n                e.preventDefault();\r\n\r\n                // Check rate limiting\r\n                const now = Date.now();\r\n                if (loginAttempts >= 3 && now - lastAttemptTime < 300000) {\r\n                    toastify({\r\n                        text: 'Too many attempts. Please try again later.',\r\n                        background: 'bg-red-500'\r\n                    });\r\n                    return;\r\n                }\r\n\r\n                submitButton.disabled = true;\r\n                submitButton.innerHTML = '<i class=\"fas fa-spinner fa-spin\"></i>';\r\n\r\n                const formData = {\r\n                    email: emailInput.value.trim(),\r\n                    password: passwordInput.value\r\n                };\r\n\r\n                const success = await adminLoginHandler(formData);\r\n\r\n                if (!success) {\r\n                    loginAttempts++;\r\n                    lastAttemptTime = now;\r\n                    submitButton.disabled = false;\r\n                    submitButton.innerHTML = 'Login';\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    return {\r\n        html: /* html */`\r\n        <div class=\"min-h-screen bg-gradient-to-br from-brand-dark to-brand-blue/20 flex items-center justify-center p-6\">\r\n            <div class=\"w-full max-w-md\">\r\n                <!-- Logo -->\r\n                <div class=\"text-center mb-8\">\r\n                    <img src=\"${LOGO}\" alt=\"Olymp AI Invest\" class=\"h-16 mx-auto mb-4\">\r\n                    <h1 class=\"text-2xl font-bold text-white\">Admin Portal</h1>\r\n                    <p class=\"text-gray-400 text-sm\">Secure administrative access</p>\r\n                </div>\r\n\r\n                <!-- Login Form -->\r\n                <form id=\"adminLoginForm\" class=\"bg-brand-black/50 backdrop-blur-xl rounded-2xl p-8 shadow-xl border border-brand-primary/10\">\r\n                    <div class=\"space-y-6\">\r\n                        <!-- Email Input -->\r\n                        <div>\r\n                            <label class=\"text-sm font-medium text-gray-300 block mb-2\">\r\n                                Administrator Email\r\n                            </label>\r\n                            <input type=\"email\" id=\"adminEmail\" required\r\n                                   class=\"w-full px-4 py-3 rounded-xl bg-brand-black/80 text-white \r\n                                          border border-brand-primary/30 focus:border-brand-primary \r\n                                          outline-none transition-all\"\r\n                                   placeholder=\"admin@Olymp AI.com\">\r\n                        </div>\r\n\r\n                        <!-- Password Input -->\r\n                        <div>\r\n                            <label class=\"text-sm font-medium text-gray-300 block mb-2\">\r\n                                Secure Password\r\n                            </label>\r\n                            <div class=\"relative\">\r\n                                <input type=\"password\" id=\"adminPassword\" required\r\n                                       class=\"w-full px-4 py-3 rounded-xl bg-brand-black/80 text-white \r\n                                              border border-brand-primary/30 focus:border-brand-primary \r\n                                              outline-none transition-all\"\r\n                                       placeholder=\"******\">\r\n                            </div>\r\n                        </div>\r\n\r\n                        <!-- Security Notice -->\r\n                        <div class=\"text-xs text-gray-400 bg-brand-primary/5 p-3 rounded-lg\">\r\n                            <i class=\"fas fa-shield-alt mr-1\"></i>\r\n                            This is a secure administrative portal. Unauthorized access attempts will be logged.\r\n                        </div>\r\n\r\n                        <!-- Submit Button -->\r\n                        <button type=\"submit\"\r\n                                class=\"w-full py-3 rounded-xl bg-brand-primary text-white font-bold \r\n                                       hover:bg-opacity-90 transition-all flex items-center justify-center \r\n                                       gap-2 disabled:opacity-50 disabled:cursor-not-allowed\">\r\n                            Login to Admin Panel\r\n                            <i class=\"fas fa-lock text-sm\"></i>\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n\r\n                <!-- Return to Main Site -->\r\n                <div class=\"text-center mt-6\">\r\n                    <a href=\"/\" data-nav class=\"text-sm text-gray-400 hover:text-white transition-colors\">\r\n                        <i class=\"fas fa-arrow-left mr-1\"></i>\r\n                        Return to Main Site\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        `,\r\n        pageEvents\r\n    };\r\n};\r\n\r\nexport default adminLogin;"],"names":["adminLogin","reset","loginAttempts","lastAttemptTime","pageEvents","form","emailInput","passwordInput","submitButton","email","isValid","strengthIndicator","e","password","strength","colors","now","toastify","formData","adminLoginHandler","LOGO"],"mappings":"sOAMK,MAACA,EAAa,SAAY,CAE3BC,EAAM,+BAA+B,EAErC,IAAIC,EAAgB,EAChBC,EAAkB,EAEtB,SAASC,GAAa,CAClB,MAAMC,EAAO,SAAS,eAAe,gBAAgB,EAC/CC,EAAa,SAAS,eAAe,YAAY,EACjDC,EAAgB,SAAS,eAAe,eAAe,EACvDC,EAAeH,GAAM,cAAc,uBAAuB,EAahE,GAVIC,GACAA,EAAW,iBAAiB,QAAU,GAAM,CACxC,MAAMG,EAAQ,EAAE,OAAO,MAAM,KAAI,EAC3BC,EAAU,6BAA6B,KAAKD,CAAK,EACvDH,EAAW,UAAU,OAAO,iBAAkB,CAACI,CAAO,EACtDF,EAAa,SAAW,CAACE,CAC7B,CAAC,EAIDH,EAAe,CACf,MAAMI,EAAoB,SAAS,cAAc,KAAK,EACtDA,EAAkB,UAAY,iCAC9BJ,EAAc,cAAc,YAAYI,CAAiB,EAEzDJ,EAAc,iBAAiB,QAAUK,GAAM,CAC3C,MAAMC,EAAWD,EAAE,OAAO,MAC1B,IAAIE,EAAW,EAEXD,EAAS,QAAU,GAAGC,IACtB,QAAQ,KAAKD,CAAQ,GAAGC,IACxB,QAAQ,KAAKD,CAAQ,GAAGC,IACxB,eAAe,KAAKD,CAAQ,GAAGC,IAEnC,MAAMC,EAAS,CAAC,MAAO,SAAU,SAAU,OAAO,EAClDJ,EAAkB,MAAM,MAAQ,SAASI,EAAOD,EAAW,CAAC,CAAC,IAC7DH,EAAkB,YAAcG,EAAW,EACvC,sBAAsB,CAAC,OAAQ,OAAQ,OAAQ,QAAQ,EAAEA,EAAW,CAAC,CAAC,GAAK,EACnF,CAAC,CACL,CAGIT,GACAA,EAAK,iBAAiB,SAAU,MAAO,GAAM,CACzC,EAAE,eAAc,EAGhB,MAAMW,EAAM,KAAK,MACjB,GAAId,GAAiB,GAAKc,EAAMb,EAAkB,IAAQ,CACtDc,EAAS,CACL,KAAM,6CACN,WAAY,YACpC,CAAqB,EACD,MACJ,CAEAT,EAAa,SAAW,GACxBA,EAAa,UAAY,yCAEzB,MAAMU,EAAW,CACb,MAAOZ,EAAW,MAAM,KAAI,EAC5B,SAAUC,EAAc,KAC5C,EAEgC,MAAMY,EAAkBD,CAAQ,IAG5ChB,IACAC,EAAkBa,EAClBR,EAAa,SAAW,GACxBA,EAAa,UAAY,QAEjC,CAAC,CAET,CAEA,MAAO,CACH,KAAgB;AAAA;AAAA;AAAA;AAAA;AAAA,gCAKQY,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UA6D5B,WAAAhB,CACR,CACA"}